<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Warhammer 40k - –§–æ—Ä—É–º –∑–∞–±—ã—Ç–æ–π –∏–º–ø–µ—Ä–∏–∏</title>
    <style>
        /* –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò */
        body {
            background-color: #000000;

            background-image: url('/images/ImageBackground.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;

            color: #cccccc;
            font-family: "Times New Roman", Georgia, serif;
            margin: 0;
            padding: 0;
            line-height: 1.4;
        }

        /* –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .container {
            width: 900px;
            margin: 15px auto;
            background-color: #111111;
            box-shadow:
                /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–µ–Ω–∏ –¥–ª—è –≥–ª—É–±–∏–Ω—ã */
                inset 0 0 20px rgba(0, 0, 0, 0.9),
                inset 0 0 10px rgba(102, 0, 0, 0.5),

                /* –í–Ω–µ—à–Ω–∏–µ —Ä–∞–∑–º—ã—Ç—ã–µ —Ç–µ–Ω–∏ –¥–ª—è —Å–≤–µ—á–µ–Ω–∏—è */
                0 0 15px rgba(255, 51, 0, 0.4),
                0 0 30px rgba(153, 0, 0, 0.3),
                0 0 45px rgba(51, 0, 0, 0.2);

            /* –¢–æ–Ω–∫–∞—è —á–µ—Ç–∫–∞—è —Ä–∞–º–∫–∞ */
            border: 1px solid rgba(102, 0, 0, 0.4);

            /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ */
            border-radius: 3px;
        }

        /* –®–ê–ü–ö–ê –°–ê–ô–¢–ê */
        .header {
            background: linear-gradient(to bottom, #220000 0%, #110000 100%);
            padding: 15px 20px;
            border-bottom: 2px solid #660000;
            position: relative;
        }

        .site-title {
            color: #cc3333;
            text-shadow: 2px 2px 0 #000000, 0 0 10px #990000;
            margin: 0;
            font-size: 28px;
            letter-spacing: 1px;
        }

        .site-subtitle {
            color: #ff9900;
            margin: 5px 0 0 0;
            font-size: 14px;
            font-style: italic;
        }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø –í –ü–†–ê–í–û–ú –í–ï–†–•–ù–ï–ú –£–ì–õ–£ */
        .user-nav {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 12px;
        }

        .user-nav a {
            color: #ff6666;
            text-decoration: none;
            margin-left: 10px;
            padding: 2px 8px;
            border: 1px outset #666666;
            background-color: #222222;
        }

        .user-nav a:hover {
            color: #ffff00;
            background-color: #333333;
            border: 1px inset #666666;
        }

        /* –ë–ï–ì–£–©–ê–Ø –°–¢–†–û–ö–ê */
        .marquee-box {
            background-color: #1a0000;
            padding: 8px;
            margin: 10px 20px;
            border: 1px dashed #cc3333;
            border-radius: 3px;
        }

        .blink {
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
        .content {
            padding: 20px;
            min-height: 400px;
        }

        .welcome-message {
            background-color: #1a1a1a;
            border: 1px solid #333333;
            padding: 15px;
            margin-bottom: 25px;
            border-left: 4px solid #cc3333;
        }

        .welcome-message h2 {
            color: #ff9900;
            margin-top: 0;
            border-bottom: 1px dotted #666666;
            padding-bottom: 5px;
        }

        /* –¢–ê–ë–õ–ò–¶–ê –†–ê–ó–î–ï–õ–û–í */
        .forum-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border: 2px solid #333333;
            margin: 20px 0;
        }

        .forum-table th {
            background: linear-gradient(to bottom, #333333 0%, #222222 100%);
            color: #ffcc00;
            padding: 10px;
            border-bottom: 2px solid #444444;
            text-align: left;
            font-size: 14px;
        }

        .forum-table td {
            padding: 12px 10px;
            border-bottom: 1px solid #222222;
            background-color: #1a1a1a;
            vertical-align: top;
        }

        .forum-table tr:hover td {
            background-color: #222222;
        }

        .section-title {
            color: #ff6666;
            font-weight: bold;
            font-size: 16px;
        }

        .section-desc {
            color: #aaaaaa;
            font-size: 13px;
            margin-top: 3px;
        }

        .stats {
            font-size: 11px;
            color: #888888;
            white-space: nowrap;
            text-align: center;
        }

        .last-post {
            font-size: 12px;
            color: #aaaaaa;
        }

        .last-post-author {
            color: #ff9900;
            font-weight: bold;
        }

        .no-posts {
            color: #666666;
            font-style: italic;
            font-size: 11px;
        }

        /* –ü–û–î–í–ê–õ */
        .footer {
            clear: both;
            text-align: center;
            padding: 15px;
            border-top: 1px solid #333333;
            font-size: 11px;
            color: #666666;
            background-color: #0a0a0a;
        }

        .footer-links {
            margin: 10px 0;
        }

        .footer-links a {
            color: #888888;
            text-decoration: none;
            margin: 0 10px;
            font-size: 10px;
        }

        .footer-links a:hover {
            color: #ff6666;
            text-decoration: underline;
        }

        /* –°–°–´–õ–ö–ò */
        a {
            color: #ff6666;
            text-decoration: none;
        }

        a:hover {
            color: #ffff00;
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div class="container">
    <!-- –®–ê–ü–ö–ê –°–ê–ô–¢–ê -->
    <div class="header">
        <h1 class="site-title">‚öîÔ∏è –§–û–†–£–ú –ó–ê–ë–´–¢–û–ô –ò–ú–ü–ï–†–ò–ò ‚öîÔ∏è</h1>
        <p class="site-subtitle">–¢–∞–º, –≥–¥–µ –≥–æ–≤–æ—Ä—è—Ç –æ–± –∏—Å—Ç–∏–Ω–Ω–æ–π –≤–æ–π–Ω–µ...</p>

        <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø -->
        <div class="user-nav">
            <span sec:authorize="!isAuthenticated()">
                <a href="/register">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                <a href="/login">üîë –í—Ö–æ–¥</a>
            </span>
                    <span sec:authorize="isAuthenticated()">
                <span style="color: #ff9900;" sec:authentication="name"></span>
                <a href="/profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
                <form th:action="@{/logout}" method="post" style="display: inline;">
                    <button type="submit" style="background: none; border: none; color: #ff6666; cursor: pointer;">
                        üö™ –í—ã—Ö–æ–¥
                    </button>
                </form>
            </span>
        </div>

        <!-- –ë–ï–ì–£–©–ê–Ø –°–¢–†–û–ö–ê -->
        <div class="marquee-box">
            <marquee behavior="scroll" direction="left" scrollamount="2">
        <span class="blink" style="color: #ffff00; font-weight: bold; font-size: 16px;">
            <b th:text="${randomPhrase}">–í–ï–†–ù–´–ï –°–´–ù–´ –ò–ú–ü–ï–†–ò–ò! –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨!</b>
        </span>
            </marquee>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div class="content">
        <!-- –ü–†–ò–í–ï–¢–°–¢–í–ò–ï -->
        <div class="welcome-message">
            <h2>–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –ù–ê –§–û–†–£–ú!</h2>
            <p>–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –ª—É—á—à–∏–µ —Ç–µ–º—ã –ø–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π Warhammer 40,000, –≥–¥–µ –º–æ–∂–Ω–æ –æ–±—Å—É–¥–∏—Ç—å –∫–Ω–∏–≥–∏, —Ñ–∏–ª—å–º—ã, –∏–≥—Ä—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ú–µ—Å—Ç–æ, –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ–±–æ–ª—Ç–∞—Ç—å –æ —Ä–∞–∑–Ω–æ–º, –Ω–∞–π—Ç–∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤ –∏ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–∞–ª—ë–∫–æ–≥–æ –±—É–¥—É—â–µ–≥–æ.</p>
            <p><strong>‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Å—Ç—ã:</strong> —É–≤–∞–∂–∞–π—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ –ï–†–ò–°–¨, –∏ –ø–æ–º–Ω–∏—Ç–µ ‚Äî –≤ –ì–ª—É–±–æ–∫–æ–º –ö–æ—Å–º–æ—Å–µ –Ω–∏–∫—Ç–æ –Ω–µ —É—Å–ª—ã—à–∏—Ç –≤–∞—à–∏ –∂–∞–ª–æ–±—ã –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é!</p>
        </div>

        <!-- –¢–ê–ë–õ–ò–¶–ê –†–ê–ó–î–ï–õ–û–í –§–û–†–£–ú–ê -->
        <h2 style="color: #ff9900; border-bottom: 1px solid #444444; padding-bottom: 8px;">–§–û–†–£–ú</h2>

        <table class="forum-table">
            <thead>
            <tr>
                <th width="70%">–†–∞–∑–¥–µ–ª</th>
                <th width="10%">–¢–µ–º</th>
                <th width="20%">–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</th>
            </tr>
            </thead>
            <tbody>
            <!-- –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –†–ê–ó–î–ï–õ–´ –ò–ó –ë–ê–ó–´ –î–ê–ù–ù–´–• -->
            <tr th:each="category : ${categories}">
                <td>
                    <a th:href="@{'/forum/' + ${category.id}}" class="section-title">
                        <span th:text="${category.icon}">üó®Ô∏è</span>
                        <span th:text="${category.name}">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞</span>
                    </a>
                    <div class="section-desc" th:text="${category.description}">
                        –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
                    </div>
                </td>
                <td class="stats" th:text="${category.topicsNum != null ? category.topicsNum : 0}">0</td>
                <td class="last-post">
                    <div th:if="${category.lastPost != null and category.lastPost != ''}"
                         th:text="${category.lastPost}">
                        –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                    </div>
                    <div th:if="${category.lastPost == null or category.lastPost == ''}"
                         class="no-posts">
                        –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
                    </div>
                </td>
            </tr>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
            <tr th:if="${#lists.isEmpty(categories)}">
                <td colspan="3" style="text-align: center; color: #666666; font-style: italic;">
                    –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
                </td>
            </tr>
            </tbody>

        </table>

        <!-- –§–û–†–£–ú–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <div style="margin-top: 30px; padding: 15px; background: #1a1a1a; border: 1px solid #333;">
            <h3 style="color: #ff9900; margin-top: 0; display: inline-block;">–°–¢–ê–¢–ò–°–¢–ò–ö–ê –§–û–†–£–ú–ê:</h3>
            <span style="margin-left: 20px; color: #aaaaaa; font-size: 13px;">
                –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <b th:text="${totalUsers}">0</b> ‚Ä¢
                –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: <b th:text="${totalPosts}">0</b> ‚Ä¢
                –í—Å–µ–≥–æ —Ç–µ–º: <b th:text="${totalTopics}">0</b> ‚Ä¢
                <span th:if="${lastRegisteredUser}">
                    –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <b th:text="${lastRegisteredUser}">–ù–µ—Ç</b>
                </span>
            </span>
        </div>
    </div>

    <!-- –ü–û–î–í–ê–õ -->
    <div class="footer">
        <div class="footer-links">
            <a href="/about">–û —Ñ–æ—Ä—É–º–µ</a> |
            <a href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a> |
            <a href="/privacy">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a> |
            <a href="/sitemap">–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞</a> |
            <a href="/rules">–ü—Ä–∞–≤–∏–ª–∞</a> |
            <a href="/help">–ü–æ–º–æ—â—å</a>
        </div>

        <p>
            ¬© 2026</span> ¬´–§–æ—Ä—É–º –ó–∞–±—ã—Ç–æ–π –ò–º–ø–µ—Ä–∏–∏¬ª<br>
            –≠—Ç–æ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–∞–Ω–∞—Ç—Å–∫–∏–π —Ä–µ—Å—É—Ä—Å.
        </p>

    </div>
</div>

<!-- JavaScript –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
<script>
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –±–µ–≥—É—â–µ–π —Å—Ç—Ä–æ–∫–µ
function updateTimeInMarquee() {
    var now = new Date();
    var timeStr = now.toLocaleTimeString('ru-RU', {
        hour: '2-digit',
        minute: '2-digit'
    });

    var timeElement = document.getElementById('currentTime');
    if (timeElement) {
        timeElement.innerText = timeStr;
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
setInterval(updateTimeInMarquee, 60000);
updateTimeInMarquee();

// –≠—Ñ—Ñ–µ–∫—Ç –º–∏–≥–∞–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    var blinkElements = document.querySelectorAll('.blink');
    blinkElements.forEach(function(el) {
        setInterval(function() {
            el.style.opacity = el.style.opacity === '0.5' ? '1' : '0.5';
        }, 1500);
    });

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã
    var tableRows = document.querySelectorAll('.forum-table tbody tr');
    tableRows.forEach(function(row) {
        row.addEventListener('mouseenter', function() {
            this.style.backgroundColor = '#252525';
            this.style.cursor = 'pointer';
        });
        row.addEventListener('mouseleave', function() {
            this.style.backgroundColor = '';
        });
        // –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ –≤–µ–¥–µ—Ç –≤ —Ä–∞–∑–¥–µ–ª
        row.addEventListener('click', function(e) {
            if (!e.target.closest('a')) {
                var link = this.querySelector('a.section-title');
                if (link) {
                    window.location.href = link.href;
                }
            }
        });
    });
});
</script>
</body>
</html>